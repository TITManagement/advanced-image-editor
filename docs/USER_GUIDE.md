# ユーザーガイド - Advanced Image Editor

> 🏠 **メインハブ**: [README](../README.md) へ戻る | **関連ドキュメント**: [開発者ガイド](DEVELOPER_GUIDE.md) | [アーキテクチャ](ARCHITECTURE.md) | [技術ノート](TECHNICAL_NOTES.md)

## 目次
- [基本的な使い方](#基本的な使い方)
- [利用可能な機能](#利用可能な機能)
- [プラグイン別詳細ガイド](#プラグイン別詳細ガイド)
- [操作のヒント](#操作のヒント)
- [トラブルシューティング](#トラブルシューティング)

## 基本的な使い方

### 1. アプリケーションの起動

```bash
# 基本実行
.venv/bin/python src/main_plugin.py

# デバッグモード（詳細ログ表示）
.venv/bin/python src/main_plugin.py --debug
```

### 2. 画像の読み込み

1. 左上の「画像を開く」ボタンをクリック
2. ファイルダイアログから画像を選択
3. 対応フォーマット：JPEG、PNG、BMP、TIFF

### 3. 画像の保存

1. 調整完了後、「画像を保存」ボタンをクリック
2. 保存場所とファイル名を指定
3. フォーマットを選択して保存

### 4. 変更のリセット

各プラグインタブの「リセット」ボタンで、そのプラグインの調整を初期状態に戻せます。

## 利用可能な機能

### 📷 画像ファイル操作
- **対応読み込み形式**: JPEG、PNG、BMP、TIFF、GIF
- **対応保存形式**: JPEG、PNG、BMP、TIFF
- **自動リサイズ**: キャンバスサイズに合わせた表示調整

### 🔄 リアルタイム処理
- **即座の反映**: スライダー調整と同時に画像が更新
- **プレビュー機能**: 変更前後の確認
- **無段階調整**: 滑らかなパラメータ変更

## プラグイン別詳細ガイド

### 🎯 基本調整プラグイン

画像の基本的な見た目を調整するためのプラグインです。

#### 明度調整 (-100〜+100)
- **効果**: 画像全体の明るさを調整
- **使用例**:
  - `-50`: 暗くなりすぎた写真を自然に
  - `+30`: 逆光で暗くなった被写体を明るく
- **おすすめ値**: -30〜+30の範囲での微調整

#### コントラスト調整 (-100〜+100)
- **効果**: 明暗の差を調整
- **使用例**:
  - `+20`: 平坦な画像にメリハリを追加
  - `-20`: コントラストが強すぎる画像を和らげる
- **注意点**: 極端な値は階調破綻の原因となります

#### 彩度調整 (-100〜+100)
- **効果**: 色の鮮やかさを調整
- **使用例**:
  - `+15`: 風景写真の色彩を鮮やかに
  - `-30`: ポートレートの自然な肌色調整
  - `-100`: モノクロ効果

### 🌈 濃度調整プラグイン

より高度な色調補正を行うプラグインです。

#### ガンマ補正 (0.1〜3.0)
- **効果**: 中間調の明るさを調整
- **使用例**:
  - `0.7`: 暗部の詳細を明るく（アンダー補正）
  - `1.3`: 白飛びを抑制（オーバー補正）
- **デフォルト**: 1.0（補正なし）

#### シャドウ/ハイライト調整 (-100〜+100)
- **シャドウ**: 暗部のみを選択的に調整
- **ハイライト**: 明部のみを選択的に調整
- **利点**: 全体のバランスを崩さずに部分補正

#### 色温度調整 (-100〜+100)
- **効果**: 画像の色味を暖色/寒色に調整
- **使用例**:
  - `-30`: 夕日のような暖かい色調
  - `+30`: 涼しげな寒色調

#### 特殊機能
- **2値化処理**: 閾値(0〜255)を設定してモノクロ画像を作成
- **ヒストグラム均等化**: 自動的にコントラストを最適化

### 🌀 フィルター処理プラグイン

画像の質感や効果を変更するプラグインです。

#### ブラー系フィルター
- **ガウシアンブラー (0〜20)**: 自然なぼかし効果
  - `3`: 軽微なノイズ除去
  - `10`: 背景ぼかし効果
  - `20`: 強いぼかし（抽象的効果）

#### シャープニング (0〜10)
- **効果**: 画像の輪郭を強調してくっきりと
- **おすすめ値**: 
  - `2`: 軽微な強調
  - `5`: 標準的な強調
  - `8+`: 強い強調（ノイズ増加に注意）

#### 特殊フィルター
- **ノイズ除去**: 画像のざらつきを軽減
- **エンボス**: 浮き彫り効果
- **エッジ検出**: 輪郭線の抽出

#### モルフォロジー演算
- **カーネルサイズ (3〜15)**: 処理の強度を調整
- **侵食**: 白い部分を縮小
- **膨張**: 白い部分を拡大
- **開放**: 侵食→膨張（ノイズ除去）
- **閉鎖**: 膨張→侵食（隙間埋め）

### 📊 画像解析プラグイン

画像の特性を分析・可視化するプラグインです。

#### ヒストグラム解析
- **機能**: RGB各チャンネルの分布を表示
- **活用法**: 露出やホワイトバランスの確認

#### 特徴点検出
- **SIFT**: 回転・スケール不変な特徴点
- **ORB**: 高速な特徴点検出
- **用途**: 画像マッチング、品質評価

#### 周波数解析
- **フーリエ変換**: 周波数成分の可視化
- **DCT変換**: 圧縮に使われる変換の表示

#### 画像品質解析
- **ブラー検出**: 画像のぼけ具合を数値化
- **ノイズ解析**: ノイズレベルの測定

## 操作のヒント

### 🎨 効果的な調整手順

1. **基本調整から開始**
   - 明度 → コントラスト → 彩度の順で調整
   - 大まかな調整後、微調整で仕上げ

2. **濃度調整で仕上げ**
   - ガンマ補正で中間調を整える
   - シャドウ/ハイライトで部分的に補正

3. **フィルターで質感調整**
   - 必要に応じてシャープニングやブラー
   - 特殊効果は最後に適用

### ⚡ パフォーマンスのヒント

- **大きな画像**: 調整中は画質よりもレスポンス重視
- **プレビュー活用**: 保存前に必ず確認
- **段階的調整**: 極端な値より段階的な変更

### 🎯 目的別推奨設定

#### ポートレート写真
- 明度: +10〜+20
- コントラスト: -5〜+10
- 彩度: -10〜+5
- ガンマ: 0.9〜1.1

#### 風景写真
- コントラスト: +10〜+20
- 彩度: +10〜+25
- シャープニング: 2〜4

#### 古い写真の復元
- ガンマ補正: 0.7〜0.9
- ヒストグラム均等化を試用
- ノイズ除去フィルター適用

## トラブルシューティング

### よくある問題と解決法

#### 🖼️ 画像が読み込めない
**症状**: 「画像を開く」で選択しても表示されない

**解決法**:
1. ファイル形式を確認（JPEG、PNG、BMP、TIFF対応）
2. ファイルが破損していないか確認
3. ファイルサイズが大きすぎないか確認（推奨: 50MB以下）

#### ⚡ 動作が重い・遅い
**症状**: スライダー操作時の反応が遅い

**解決法**:
1. 画像サイズを縮小（推奨: 2000x2000px以下）
2. 他のアプリケーションを終了してメモリを確保
3. デバッグモード以外で実行

#### 🎛️ スライダーが効かない
**症状**: スライダーを動かしても画像が変わらない

**解決法**:
1. 画像が正しく読み込まれているか確認
2. アプリケーションを再起動
3. リセットボタンで初期状態に戻す

#### 💾 保存できない
**症状**: 「画像を保存」でエラーが発生

**解決法**:
1. 保存先フォルダの書き込み権限を確認
2. ディスク容量を確認
3. ファイル名に特殊文字が含まれていないか確認

#### 🎨 色が期待と違う
**症状**: 調整した色が画面と保存画像で異なる

**解決法**:
1. モニターのカラープロファイルを確認
2. 保存形式を確認（JPEG圧縮による劣化の可能性）
3. sRGB色空間での作業を推奨

### エラーメッセージ別対処法

| エラーメッセージ | 原因 | 解決法 |
|------------------|------|--------|
| "PIL cannot identify image file" | 非対応フォーマット | 対応形式で保存し直し |
| "Permission denied" | 書き込み権限なし | 別フォルダに保存 |
| "Memory error" | メモリ不足 | 画像サイズを縮小 |
| "Module not found" | 依存関係不足 | `pip install -r requirements.txt` |

### パフォーマンス最適化

#### 推奨システム要件
- **メモリ**: 4GB以上（8GB推奨）
- **CPU**: デュアルコア以上
- **画像サイズ**: 2000x2000px以下で最適

#### 大きな画像の処理
1. **事前リサイズ**: 編集前に適切なサイズに縮小
2. **段階的処理**: 一度に多くの調整をしない
3. **定期的な保存**: 作業の区切りで中間保存

---

このガイドでAdvanced Image Editorを効果的に活用して、素晴らしい画像編集をお楽しみください！

**ナビゲーション**:
- 🏠 [メインハブに戻る](../README.md)
- 👨‍💻 [プラグイン開発に興味がある方](DEVELOPER_GUIDE.md)
- 🏗️ [システム設計について学ぶ](ARCHITECTURE.md)
- ⚡ [技術的な詳細を確認](TECHNICAL_NOTES.md)